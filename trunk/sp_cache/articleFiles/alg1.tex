
\begin{algorithm}[H!bt]
\dontprintsemicolon
\SetVline

\SetKwInOut{Input}{input}\SetKwInOut{Output}{output}\SetKw{Return}{return}

\Input
{

	$G(V,E)$: Graph representation of Map \;
	$\mathbf{\Psi}$: The cache \;
	$\mathcal{B}$: Cache budget \;
	
}
\vspace{0.7em}
\tcp{\emph{\textbf{H} Contains the utility score of all possible \spaths in $\mathbf{G(V,E)}$. The \spath is the value $v$ and the utility is the key $k$, $(k, v)$, which the is sorted on.}}
\textbf{H} Initialize Max-Heap \;

\tcp{\emph{Initialially fill \textbf{H}}}

\ForAll{$\spath_{s,t} | s \in V, t \in V, s \neq t$} 
{
    H.push(S$(\chi, \spath_{s,t}, \Psi), \spath_{s,t}$) \;
}


\tcp{\emph{Fill cache}}
\While{$| \Psi | \leq \mathcal{B}$ AND $\spath_{ms}.k \neq 0$}
{
	\tcp{\emph{Assign (utility,\spath) pair with the highest utility to $\spath_{ms}$}}
	$\spath_{ms}$ = \textbf{H}.pop() \; 
	\tcp{\emph{\textbf{H}.peek() looks at the top (k,v) pair without removing it from the heap}}
	\If{$\spath_{ms} \geq \textbf{H}.peek()$} 	
	{	
	    $\Psi.push(\spath_{ms}.v)$\;
	}
	\Else
	{
	    H.push(S$(\chi, \spath_{ms}.v, \Psi), \spath_{ms}.v$) \;
	}
}

\caption{\salgons($G(V,E), \mathbf{\Psi}, \mathcal{B}$)}
\label{alg:greedy}
\end{algorithm}